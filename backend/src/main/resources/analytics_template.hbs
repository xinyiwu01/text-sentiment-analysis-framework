<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <title>Andrew&Grey Analytics</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.2.2/echarts.min.js"
            integrity="sha512-ivdGNkeO+FTZH5ZoVC4gS4ovGSiWc+6v60/hvHkccaMN2BXchfKdvEZtviy5L4xSpF8NPsfS0EVNSGf+EsUdxA=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.2.2/echarts.min.js" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script>
  /* When the user clicks on the button,
  toggle between hiding and showing the dropdown content */
  function myFunction() {
    document.getElementById("myDropdown").classList.toggle("show");
  }

  /* Close the dropdown menu if the user clicks outside of it */
  window.onclick = function(event) {
    if (!event.target.matches('.dropbtn')) {
      let dropdowns = document.getElementsByClassName("dropdown-content");
      let i;
      for (i = 0; i < dropdowns.length; i++) {
        let openDropdown = dropdowns[i];
        if (openDropdown.classList.contains('show')) {
          openDropdown.classList.remove('show');
        }
      }
    }
  }
  </script>
  <style>
      /* Dropdown Content (Hidden by Default) */
      .dropdown-content {
          display: none;
          position: absolute;
          background-color: #f1f1f1;
          width: 100%;
          height: 5vh;
          box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
          z-index: 1;
          text-align: center;
      }

      /* Links inside the dropdown */
      .dropdown-content a {
          color: black;
          font-size: 2vw;
          height: 5vh;
          text-decoration: none;
          display: block;
      }

      /* Change color of dropdown links on hover */
      .dropdown-content a:hover {background-color: #ddd}

      /* Show the dropdown menu (use JS to add this class to the .dropdown-content container when the user clicks on the dropdown button) */
      .show {display:block;}

      #chart {
          height: 50vh;
          padding: 2rem;
          margin: 2rem;
      }

      #select {
          padding: 0.5rem;
          margin: 0.5rem;
          justify-content: center;
      }

      #name {
          height: 5vh;
          line-height: 100%;
          background-color: white;
          padding: 0.5rem;
          margin: 0.5rem;
      }

      #footer {
          height: 5vh;
          background-color: white;
          padding: 0.5rem;
          margin: 0.5rem;
      }
      #display-container {
          width: 600px;
          height: 600px;
      }
      #json {
          display: none;
      }

      html,
      body {
          height: 100%;
          margin: 0;
          padding: 0 0 1rem;
          font-family: Open Sans, serif;
      }
  </style>
</head>



<body>
    <div class="container-fluid p-4 bg-primary text-white text-left">
        <h1>ANDREW&GREY</h1>
        <h1>SENTIMENT ANALYTICS</h1>
    </div>

    <div class="container-fluid hero d-flex align-items-center justify-content-center">
        <div class="col-md-12  text-center">
            <div id="json">{{chart}}</div>
            <div id="display-container" class="mx-auto"></div>
            <div id="name">{{name}}</div>
            <div id="select">
                <button onclick="myFunction()" type="button" class="dropbtn btn btn-primary btn-lg dropdown-toggle">
                    {{action}}
                </button>
                <div id="myDropdown" class="dropdown-content">
                    {{#each plugins}}
                        <a href="{{link}}">{{name}}</a>
                    {{/each}}
                </div>
            </div>
            <div id="footer">{{footer}}</div>
        </div>
    </div>

    <script type="text/javascript">
        let myChart = echarts.init(document.getElementById("display-container"));
        let str = document.getElementById("json").innerHTML;
        let option = JSON.parse(str);
        myChart.setOption(option);
    </script>

</body>


</html>